{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended", "helpers:pinGitHubActionDigestsToSemver"],
  "ignorePaths": [".dagger/**"],
  "customManagers": [
    {
      "customType": "jsonata",
      "fileFormat": "yaml",
      "managerFilePatterns": ["/^\\.github/workflows/.*\\.ya?ml$/"],
      "matchStrings": [
        "$each(jobs, function($j) { $j.*.steps[uses = \"dagger/dagger-for-github\"].({ \"depName\": \"dagger/dagger\", \"currentValue\": $j.*.steps[uses = \"dagger/dagger-for-github\"].with.version }) })"
      ],
      "datasourceTemplate": "github-releases",
      "versioningTemplate": "semver"
    },
    {
      "customType": "jsonata",
      "fileFormat": "toml",
      "managerFilePatterns": ["rust-toolchain.toml"],
      "matchStrings": ["{ 'currentValue': $.toolchain.channel }"],
      "datasourceTemplate": "github-releases",
      "packageNameTemplate": "rust-lang/rust",
      "depNameTemplate": "rust",
      "versioningTemplate": "semver"
    }
  ]
}
